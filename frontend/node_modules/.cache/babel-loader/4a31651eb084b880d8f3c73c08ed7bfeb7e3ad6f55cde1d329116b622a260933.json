{"ast":null,"code":"import React,{useEffect,useState,useCallback}from'react';import axios from'axios';import{useAuth}from'../auth/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const{token,logout}=useAuth();const[tasks,setTasks]=useState([]);const[title,setTitle]=useState('');const fetchTasks=useCallback(async()=>{const res=await axios.get('http://localhost:5000/api/entities',{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(res.data);},[token]);useEffect(()=>{fetchTasks();},[fetchTasks]);const handleCreate=async()=>{await axios.post('http://localhost:5000/api/entities',{title},{headers:{Authorization:\"Bearer \".concat(token)}});setTitle('');fetchTasks();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Tasks\"}),/*#__PURE__*/_jsx(\"input\",{value:title,onChange:e=>setTitle(e.target.value),placeholder:\"New task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreate,children:\"Add Task\"}),/*#__PURE__*/_jsx(\"ul\",{children:tasks.map(task=>/*#__PURE__*/_jsx(\"li\",{children:task.title},task.id))})]});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","useAuth","jsx","_jsx","jsxs","_jsxs","Dashboard","token","logout","tasks","setTasks","title","setTitle","fetchTasks","res","get","headers","Authorization","concat","data","handleCreate","post","children","onClick","value","onChange","e","target","placeholder","map","task","id"],"sources":["C:/Users/ansar/OneDrive/Desktop/TaskMaster Scalable Authenticated Dashboard/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../auth/AuthContext';\r\n\r\nfunction Dashboard() {\r\n  const { token, logout } = useAuth();\r\n  const [tasks, setTasks] = useState([]);\r\n  const [title, setTitle] = useState('');\r\n\r\n  const fetchTasks = useCallback(async () => {\r\n    const res = await axios.get('http://localhost:5000/api/entities', {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    setTasks(res.data);\r\n  }, [token]);\r\n\r\n  useEffect(() => { fetchTasks(); }, [fetchTasks]);\r\n\r\n  const handleCreate = async () => {\r\n    await axios.post('http://localhost:5000/api/entities', { title }, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    setTitle('');\r\n    fetchTasks();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={logout}>Logout</button>\r\n      <h2>Tasks</h2>\r\n      <input value={title} onChange={e => setTitle(e.target.value)} placeholder=\"New task\" />\r\n      <button onClick={handleCreate}>Add Task</button>\r\n      <ul>\r\n        {tasks.map(task => (<li key={task.id}>{task.title}</li>))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAC/D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAAEC,KAAK,CAAEC,MAAO,CAAC,CAAGP,OAAO,CAAC,CAAC,CACnC,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAe,UAAU,CAAGd,WAAW,CAAC,SAAY,CACzC,KAAM,CAAAe,GAAG,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAAC,oCAAoC,CAAE,CAChEC,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYX,KAAK,CAAG,CAC9C,CAAC,CAAC,CACFG,QAAQ,CAACI,GAAG,CAACK,IAAI,CAAC,CACpB,CAAC,CAAE,CAACZ,KAAK,CAAC,CAAC,CAEXV,SAAS,CAAC,IAAM,CAAEgB,UAAU,CAAC,CAAC,CAAE,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhD,KAAM,CAAAO,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAApB,KAAK,CAACqB,IAAI,CAAC,oCAAoC,CAAE,CAAEV,KAAM,CAAC,CAAE,CAChEK,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYX,KAAK,CAAG,CAC9C,CAAC,CAAC,CACFK,QAAQ,CAAC,EAAE,CAAC,CACZC,UAAU,CAAC,CAAC,CACd,CAAC,CAED,mBACER,KAAA,QAAAiB,QAAA,eACEnB,IAAA,WAAQoB,OAAO,CAAEf,MAAO,CAAAc,QAAA,CAAC,QAAM,CAAQ,CAAC,cACxCnB,IAAA,OAAAmB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdnB,IAAA,UAAOqB,KAAK,CAAEb,KAAM,CAACc,QAAQ,CAAEC,CAAC,EAAId,QAAQ,CAACc,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAACI,WAAW,CAAC,UAAU,CAAE,CAAC,cACvFzB,IAAA,WAAQoB,OAAO,CAAEH,YAAa,CAAAE,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAChDnB,IAAA,OAAAmB,QAAA,CACGb,KAAK,CAACoB,GAAG,CAACC,IAAI,eAAK3B,IAAA,OAAAmB,QAAA,CAAmBQ,IAAI,CAACnB,KAAK,EAApBmB,IAAI,CAACC,EAAoB,CAAE,CAAC,CACvD,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAAzB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}